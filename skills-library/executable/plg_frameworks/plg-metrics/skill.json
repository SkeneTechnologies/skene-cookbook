{
  "id": "plg_frameworks/plg-metrics",
  "version": "1.0.0",
  "name": "plg-metrics",
  "description": "When the user wants to define PLG metrics, build a growth dashboard, or set KPI targets -- including activation rate, free-to-paid conversion, NRR, or North Star metric. Also use when the user says \"PLG dashboard,\" \"growth KPIs,\" \"metric definitions,\" or \"PLG benchmarks.\" For activation-specific metrics, see activation-metrics. For analytics setup, see product-analytics.",
  "domain": "plg_frameworks",
  "source": "external",
  "tools": [],
  "exitStates": [
    "success",
    "failure"
  ],
  "inputSchema": {
    "type": "object",
    "properties": {
      "business_model": {
        "type": "string",
        "enum": [
          "freemium",
          "free_trial",
          "open_source",
          "reverse_trial",
          "usage_based",
          "hybrid"
        ],
        "description": "The primary business model for the PLG product"
      },
      "growth_loop": {
        "type": "string",
        "enum": [
          "viral",
          "content_led",
          "sales_assisted",
          "product_led",
          "hybrid"
        ],
        "description": "The primary growth loop driving user acquisition"
      },
      "core_value_action": {
        "type": "string",
        "description": "The key action users perform that delivers core product value (e.g., 'send team messages', 'run queries', 'create shared designs')"
      },
      "user_buyer_relationship": {
        "type": "string",
        "enum": [
          "same_person",
          "different_person"
        ],
        "description": "Whether the end user and the buyer are the same person or different roles"
      },
      "company_stage": {
        "type": "string",
        "enum": [
          "pre_pmf",
          "early_growth",
          "scaling",
          "mature"
        ],
        "description": "Current stage of company growth"
      },
      "has_sales_team": {
        "type": "boolean",
        "description": "Whether a sales team is layered on top of PLG motion"
      },
      "analytics_tools": {
        "type": "array",
        "items": {
          "type": "string"
        },
        "description": "List of current analytics tools in use (e.g., 'Amplitude', 'Mixpanel', 'Segment')"
      },
      "current_metrics": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "metric_name": {
              "type": "string",
              "description": "Name of the metric currently tracked"
            },
            "current_value": {
              "type": [
                "number",
                "string"
              ],
              "description": "Current value of the metric"
            },
            "calculation_method": {
              "type": "string",
              "description": "How the metric is currently calculated"
            }
          },
          "required": [
            "metric_name"
          ]
        },
        "description": "Metrics currently being tracked by the team"
      },
      "metric_gaps": {
        "type": "array",
        "items": {
          "type": "string"
        },
        "description": "Known gaps in current metrics coverage"
      },
      "target_metrics": {
        "type": "array",
        "items": {
          "type": "string",
          "enum": [
            "activation_rate",
            "free_to_paid_conversion",
            "nrr",
            "north_star",
            "engagement_score",
            "pql_metrics",
            "retention_curves",
            "all"
          ],
          "description": "Specific metrics the user wants to define or optimize"
        },
        "description": "Priority metrics to focus on in this engagement"
      },
      "dashboard_type": {
        "type": "string",
        "enum": [
          "executive",
          "growth_team",
          "product_team",
          "revenue_team",
          "customer_success",
          "custom"
        ],
        "description": "Type of dashboard to build"
      },
      "time_period": {
        "type": "string",
        "enum": [
          "daily",
          "weekly",
          "monthly",
          "quarterly"
        ],
        "description": "Primary time period for metric tracking and reporting"
      },
      "segmentation_requirements": {
        "type": "array",
        "items": {
          "type": "string"
        },
        "description": "How metrics should be segmented (e.g., 'by plan type', 'by signup source', 'by company size')"
      },
      "baseline_data": {
        "type": "object",
        "properties": {
          "signups_per_month": {
            "type": "integer",
            "description": "Current monthly signup volume"
          },
          "active_users": {
            "type": "integer",
            "description": "Current MAU count"
          },
          "paying_customers": {
            "type": "integer",
            "description": "Current number of paying customers"
          },
          "mrr": {
            "type": "number",
            "description": "Current Monthly Recurring Revenue"
          },
          "activation_rate": {
            "type": "number",
            "minimum": 0,
            "maximum": 100,
            "description": "Current activation rate percentage"
          },
          "conversion_rate": {
            "type": "number",
            "minimum": 0,
            "maximum": 100,
            "description": "Current free-to-paid conversion rate percentage"
          }
        },
        "description": "Baseline metric values to inform target setting"
      }
    },
    "required": [
      "business_model",
      "company_stage"
    ],
    "additionalProperties": false
  },
  "outputSchema": {
    "type": "object",
    "properties": {
      "metrics_framework": {
        "type": "object",
        "properties": {
          "north_star_metric": {
            "type": "object",
            "properties": {
              "metric_name": {
                "type": "string",
                "description": "Name of the North Star metric"
              },
              "formula": {
                "type": "string",
                "description": "Calculation formula for the metric"
              },
              "rationale": {
                "type": "string",
                "description": "Why this metric was chosen as the North Star"
              },
              "current_value": {
                "type": [
                  "number",
                  "string"
                ],
                "description": "Current baseline value"
              },
              "target_value": {
                "type": [
                  "number",
                  "string"
                ],
                "description": "Target value for the defined period"
              }
            },
            "required": [
              "metric_name",
              "formula",
              "rationale"
            ]
          },
          "acquisition_metrics": {
            "type": "array",
            "items": {
              "$ref": "#/$defs/metric_definition"
            },
            "description": "Metrics measuring user acquisition effectiveness"
          },
          "activation_metrics": {
            "type": "array",
            "items": {
              "$ref": "#/$defs/metric_definition"
            },
            "description": "Metrics measuring user activation and time-to-value"
          },
          "engagement_metrics": {
            "type": "array",
            "items": {
              "$ref": "#/$defs/metric_definition"
            },
            "description": "Metrics measuring ongoing product usage and stickiness"
          },
          "monetization_metrics": {
            "type": "array",
            "items": {
              "$ref": "#/$defs/metric_definition"
            },
            "description": "Metrics measuring conversion to paid and revenue growth"
          },
          "retention_metrics": {
            "type": "array",
            "items": {
              "$ref": "#/$defs/metric_definition"
            },
            "description": "Metrics measuring customer retention over time"
          },
          "pql_metrics": {
            "type": "array",
            "items": {
              "$ref": "#/$defs/metric_definition"
            },
            "description": "Product Qualified Lead metrics for product-led sales"
          }
        },
        "required": [
          "north_star_metric"
        ]
      },
      "metric_definitions": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/detailed_metric_definition"
        },
        "description": "Comprehensive definitions for all tracked metrics"
      },
      "dashboard_specifications": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "dashboard_name": {
              "type": "string",
              "description": "Name of the dashboard"
            },
            "audience": {
              "type": "string",
              "description": "Target audience for this dashboard"
            },
            "metrics_included": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "metric_name": {
                    "type": "string"
                  },
                  "visualization_type": {
                    "type": "string",
                    "enum": [
                      "line_chart",
                      "bar_chart",
                      "big_number",
                      "table",
                      "funnel",
                      "cohort_table",
                      "pie_chart"
                    ]
                  },
                  "time_range": {
                    "type": "string",
                    "description": "Time range for the visualization (e.g., 'Last 90 days', 'Last 12 months')"
                  }
                },
                "required": [
                  "metric_name",
                  "visualization_type"
                ]
              }
            },
            "filters_available": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Available filters for the dashboard"
            },
            "refresh_cadence": {
              "type": "string",
              "enum": [
                "real_time",
                "hourly",
                "daily",
                "weekly"
              ],
              "description": "How frequently the dashboard data refreshes"
            },
            "alert_configurations": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "metric_name": {
                    "type": "string"
                  },
                  "threshold": {
                    "type": "string",
                    "description": "Alert threshold (e.g., 'drops >10% WoW')"
                  },
                  "recipients": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "required": [
                  "metric_name",
                  "threshold"
                ]
              }
            }
          },
          "required": [
            "dashboard_name",
            "audience",
            "metrics_included"
          ]
        }
      },
      "targets_and_benchmarks": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "metric_name": {
              "type": "string"
            },
            "current_baseline": {
              "type": [
                "number",
                "string"
              ],
              "description": "Current baseline value"
            },
            "industry_benchmark": {
              "type": "string",
              "description": "Industry benchmark range or value"
            },
            "gap_analysis": {
              "type": "string",
              "description": "Analysis of gap between current and benchmark"
            },
            "target_value": {
              "type": [
                "number",
                "string"
              ],
              "description": "Target value for the period"
            },
            "target_period": {
              "type": "string",
              "description": "Time period for the target (e.g., 'Q2 2024')"
            },
            "weekly_milestone": {
              "type": [
                "number",
                "string"
              ],
              "description": "Weekly incremental target"
            },
            "key_lever": {
              "type": "string",
              "description": "Primary initiative or action to move this metric"
            },
            "owner": {
              "type": "string",
              "description": "Team or person responsible for this metric"
            },
            "guardrail_metrics": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Metrics that must not degrade while optimizing this metric"
            }
          },
          "required": [
            "metric_name",
            "current_baseline",
            "target_value"
          ]
        }
      },
      "engagement_score_model": {
        "type": "object",
        "properties": {
          "weighted_actions": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "action_name": {
                  "type": "string"
                },
                "weight": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 1
                },
                "threshold": {
                  "type": "string",
                  "description": "Threshold for scoring (e.g., '3+ projects created = 10 points')"
                },
                "points": {
                  "type": "integer"
                }
              },
              "required": [
                "action_name",
                "weight"
              ]
            }
          },
          "normalization_method": {
            "type": "string",
            "description": "How the score is normalized (typically 0-100 scale)"
          },
          "validation_results": {
            "type": "string",
            "description": "Validation that high engagement scores correlate with retention"
          }
        },
        "description": "Custom engagement score model if defined"
      },
      "aha_moment_definition": {
        "type": "object",
        "properties": {
          "description": {
            "type": "string",
            "description": "Description of the aha moment (outcome, not feature)"
          },
          "proxy_action": {
            "type": "string",
            "description": "Measurable action that represents the aha moment"
          },
          "measurement_criteria": {
            "type": "string",
            "description": "Specific criteria for measuring aha moment achievement"
          }
        },
        "description": "Definition of the product's aha moment"
      },
      "leading_indicators": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "indicator_name": {
              "type": "string"
            },
            "predicts_metric": {
              "type": "string",
              "description": "The lagging metric this leading indicator predicts"
            },
            "correlation_strength": {
              "type": "string",
              "enum": [
                "strong",
                "moderate",
                "weak"
              ],
              "description": "Strength of predictive correlation"
            }
          },
          "required": [
            "indicator_name",
            "predicts_metric"
          ]
        },
        "description": "Leading indicators identified for predictive monitoring"
      },
      "implementation_recommendations": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "priority": {
              "type": "string",
              "enum": [
                "high",
                "medium",
                "low"
              ]
            },
            "recommendation": {
              "type": "string"
            },
            "rationale": {
              "type": "string"
            },
            "effort_estimate": {
              "type": "string",
              "enum": [
                "low",
                "medium",
                "high"
              ]
            }
          },
          "required": [
            "priority",
            "recommendation"
          ]
        },
        "description": "Prioritized recommendations for implementing the metrics framework"
      }
    },
    "required": [
      "metrics_framework",
      "metric_definitions",
      "dashboard_specifications"
    ],
    "$defs": {
      "metric_definition": {
        "type": "object",
        "properties": {
          "metric_name": {
            "type": "string"
          },
          "formula": {
            "type": "string"
          },
          "benchmark": {
            "type": "string"
          },
          "cadence": {
            "type": "string",
            "enum": [
              "daily",
              "weekly",
              "monthly",
              "quarterly"
            ]
          }
        },
        "required": [
          "metric_name",
          "formula"
        ]
      },
      "detailed_metric_definition": {
        "type": "object",
        "properties": {
          "metric_name": {
            "type": "string"
          },
          "category": {
            "type": "string",
            "enum": [
              "acquisition",
              "activation",
              "engagement",
              "monetization",
              "retention",
              "pql"
            ]
          },
          "formula": {
            "type": "string",
            "description": "Exact calculation with numerator and denominator"
          },
          "data_source": {
            "type": "string",
            "description": "Which system or tool provides this data"
          },
          "owner": {
            "type": "string",
            "description": "Team or person responsible"
          },
          "current_value": {
            "type": [
              "number",
              "string"
            ],
            "description": "Baseline as of date"
          },
          "target": {
            "type": [
              "number",
              "string"
            ],
            "description": "Goal for this quarter/period"
          },
          "benchmark": {
            "type": "string",
            "description": "Industry benchmark range"
          },
          "review_cadence": {
            "type": "string",
            "enum": [
              "daily",
              "weekly",
              "monthly",
              "quarterly"
            ]
          },
          "indicator_type": {
            "type": "string",
            "enum": [
              "leading",
              "lagging"
            ],
            "description": "Whether metric is predictive or outcome-based"
          },
          "segmentation": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Segments to break down by (e.g., plan type, signup source)"
          },
          "alert_thresholds": {
            "type": "string",
            "description": "When to trigger alerts (e.g., drops >10% WoW)"
          },
          "dependencies": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Other metrics this influences or is influenced by"
          },
          "notes": {
            "type": "string",
            "description": "Caveats, data quality issues, or context"
          }
        },
        "required": [
          "metric_name",
          "category",
          "formula",
          "review_cadence"
        ]
      }
    }
  },
  "temperature": 0,
  "tags": [
    "plg_frameworks",
    "imported",
    "verified"
  ],
  "platforms": {
    "claude": {
      "triggers": [
        "help with plg metrics",
        "growth framework",
        "the user says \"plg dashboard,\" \"growth kpis,\" \"metric definitions,\" or \"plg benchmarks"
      ]
    },
    "cursor": {},
    "skeneflow": {}
  },
  "security_controls": {
    "payment_controls": {
      "preview_mode": true,
      "per_transaction_approval": true,
      "amount_limits": {
        "max_per_transaction": 50000,
        "daily_limit": 200000,
        "additional_approval_threshold": 25000
      },
      "rollback": {
        "enabled": true,
        "window_seconds": 3600
      },
      "two_phase_commit": true,
      "audit_logging": "detailed"
    }
  },
  "metadata": {
    "schemaGenerated": true,
    "schemaConfidence": 0.92
  }
}
